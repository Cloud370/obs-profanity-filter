# 更新日志 (Changelog)

## v0.3.0-beta.1 (2025-12-08)
- **功能新增**:
  - **GPU 加速**: 添加 CUDA GPU 加速支持 (实验性)，可显著提升语音识别性能。
  - **一键下载**: 支持一键下载 ONNX Runtime CUDA DLL（国内镜像源）。
  - **GPU 检测**: 自动检测 NVIDIA GPU 和系统 CUDA 版本。
  - **热切换**: 支持 CPU/CUDA 模式热切换，无需重启 OBS。
- **架构重构**:
  - 新增 `FileDownloader` 通用下载器基类，统一下载逻辑。
  - 新增 `RuntimeManager` GPU Runtime DLL 管理器。
  - `PluginModelManager` 继承 `FileDownloader`，移除重复代码。
  - `ASRModel` 支持 provider 参数，模型缓存键扩展为 (path + provider)。
  - `profanity-filter` 检测 provider 变化自动重载模型。
- **新增文件**:
  - `src/file-downloader.hpp/cpp` - 通用下载器基类
  - `src/runtime-manager.hpp/cpp` - GPU Runtime 管理器
  - `data/runtime.json` - CUDA Runtime 配置
- **注意事项**:
  - 需要 NVIDIA 显卡和 CUDA 12.x 支持
  - 这是测试版本，如遇问题请反馈

## v0.2.0 (2025-12-07)
- **功能新增**:
  - **音频处理**: 添加自动增益控制 (AGC) 功能，保持音量稳定。
  - **模型管理**: 支持模型延迟补偿与切换时自动应用预设延迟。
  - **脏词过滤**: 重构过滤系统，内置词库与用户词库分离；新增密码模式隐藏词库内容。
  - **界面与状态**: 增加模型状态显示与全局状态管理，提升可用性与反馈。
  - **模型维护**: 支持删除已安装模型并更新默认模型列表。
- **改进**:
  - 统一日志宏，清理旧代码，提高代码一致性。
- **文档**:
  - 重构并优化 README 结构与内容表述。
- **重大变更**:
  - 移除日志文件记录功能及相关 UI/配置项；如需日志请使用控制台输出或自定义方案。

## v0.1.0 (2025-12-07)
- **功能新增**:
  - **模型管理**: 添加模型自动下载与管理功能，支持在设置界面一键下载并自动配置推荐模型。

## v0.0.5 (2025-12-06)
- **功能新增**:
  - **多种屏蔽音效**: 新增四种屏蔽音效（标准哔声、静音、小黄人音效、电报音效）。
  - **喜剧模式**: 优先屏蔽短词实现趣味变声效果，增强直播互动性。
- **改进**:
  - 支持音效预览与原始音频缓存，提升配置体验。
  - 优化匹配算法，减少误屏蔽，并支持不同优先级策略。
- **重大变更**:
  - 移除旧的“哔声频率”和“混合比例”设置项，配置界面已简化。请在设置中改用新的音效类型选择。

## v0.0.4 (2025-12-06)
- **功能新增**:
  - **全局开关**: 添加全局启用开关，方便用户一键开启或关闭插件功能。
  - **音画同步**: 新增音画同步延迟功能，自动处理视频延迟以匹配音频处理带来的延迟。

## v0.0.3 (2025-12-06)
- **架构重构**:
  - 将单体插件代码重构为模块化架构，提升代码结构清晰度与可维护性。
  - 统一构建配置，规范化构建目录。
- **核心修复**:
  - **非48kHz适配**: 修复在非 48kHz 采样率下的音画同步问题，支持动态采样率。
  - **音频流稳定性**: 修复延迟累积、索引冲突及多线程样本计数同步问题，提升长时间运行的稳定性。

## v0.0.2 (2025-12-04)
- **优化识别率**: 针对短语（一两个字）识别率低的问题进行了核心优化。
  - 将解码算法从 `greedy_search` 升级为 `modified_beam_search`，大幅提升短语和生僻词的捕捉能力。
  - 启用了端点检测 (Endpoint Detection)，解决说话停顿后可能导致的“吞字”现象。
- **体验改进**:
  - 默认开启拼音模糊匹配模式，新手上手更友好。
  - 默认延迟时间从 1.0秒 调整为 500毫秒，平衡了延迟与识别稳定性。
  - 配置界面单位优化：延迟设置现在以 **毫秒 (ms)** 为单位，调节更直观。
